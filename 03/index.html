<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Update CSS Variables With JS</title>
	<link rel="stylesheet" href="./style.css">
	<style>
		
	</style>
</head>
<body>
	<h2>Update <span class="hl">CSS</span> Variables With <span class="hl">JS</span></h2>

	<div class="controls">
		<label for="spacing">Spacing</label>
		<!-- data-sizing is a custom data- variable it has to be prefixed with 'data-' -->
		<input type="range" name="spacing" min="10" max="100" value="10" data-sizing="px">

		<label for="blur">Blur</label>
		<input type="range" name="blur" min="0" max="25" value="10" data-sizing="px">

		<label for="base">Base Color</label>
		<input type="color" name="base" value="#ffc600">
	</div>

	<img src="./imgs/background.jpg">

	<script type="text/javascript">
		// get all form inputs in the form of a NodeList (like an array but different)
		// a node list has less prototype features
		/*
		From MDN:
			NodeList objects are collections of nodes, usually returned by properties 
			such as Node.childNodes and methods such as document.querySelectorAll().

			Although NodeList is not an Array, it is possible to iterate over it 
			with forEach(). It can also be converted to a real Array using Array.from().
		*/
		const inputs = document.querySelectorAll('.controls input');

		function handleUpdate() {
			// this.dataset contains all of the data- variables defined in the html element
			// this comes from the querySelectorAll call
			const suffix = this.dataset.sizing || '';

			// get the root element property using the substitution string with this.name
			document.documentElement.style.setProperty(`--${this.name}`, this.value + suffix);
		}

		inputs.forEach(input => input.addEventListener('change', handleUpdate));
		inputs.forEach(input => input.addEventListener('mousemove', handleUpdate));
	</script>
</body>
</html>